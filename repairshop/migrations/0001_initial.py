# Generated by Django 4.2.4 on 2023-08-04 19:55

import ckeditor.fields
from django.db import migrations, models
import django.db.models.deletion
import phonenumber_field.modelfields


class Migration(migrations.Migration):
    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="About",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("title", models.CharField(max_length=255, verbose_name="Заголовок")),
                ("description", ckeditor.fields.RichTextField(verbose_name="Опис")),
            ],
            options={
                "verbose_name": "Про нас",
                "verbose_name_plural": "Про нас",
            },
        ),
        migrations.CreateModel(
            name="AdditionExpense",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Назва")),
                ("price", models.PositiveIntegerField(verbose_name="Ціна")),
            ],
            options={
                "verbose_name": "Додаткова витрата",
                "verbose_name_plural": "Додаткові витрати",
                "ordering": ["-id"],
            },
        ),
        migrations.CreateModel(
            name="Contact",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("title", models.CharField(max_length=255, verbose_name="Заголовок")),
                ("description", ckeditor.fields.RichTextField(verbose_name="Опис")),
            ],
            options={
                "verbose_name": "Контакти",
                "verbose_name_plural": "Контакти",
            },
        ),
        migrations.CreateModel(
            name="ContactInformation",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("address", models.CharField(max_length=255, verbose_name="Адреса")),
                (
                    "phone_number_one",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="UA", verbose_name="Номер телефону 1"
                    ),
                ),
                (
                    "phone_number_two",
                    phonenumber_field.modelfields.PhoneNumberField(
                        blank=True,
                        max_length=128,
                        region="UA",
                        verbose_name="Номер телефону 2",
                    ),
                ),
                (
                    "telegram_link",
                    models.CharField(
                        default="#", max_length=255, verbose_name="Telegram"
                    ),
                ),
                (
                    "instagram_link",
                    models.CharField(
                        default="#", max_length=255, verbose_name="Instagram"
                    ),
                ),
                (
                    "weekday_start",
                    models.CharField(max_length=2, verbose_name="Початок вихідних"),
                ),
                (
                    "weekday_end",
                    models.CharField(max_length=2, verbose_name="Кінець вихідних"),
                ),
                (
                    "dayoff_start",
                    models.CharField(
                        max_length=2, verbose_name="Початок робочого тижня"
                    ),
                ),
                (
                    "dayoff_end",
                    models.CharField(
                        blank=True, max_length=2, verbose_name="Кінець робочого тижня"
                    ),
                ),
                (
                    "hours_start",
                    models.CharField(
                        max_length=5,
                        verbose_name="Початок робочого дня (години нап. 10:00)",
                    ),
                ),
                (
                    "hours_end",
                    models.CharField(
                        max_length=5,
                        verbose_name="Кінець робочого дня (години нап. 18:00)",
                    ),
                ),
            ],
            options={
                "verbose_name": "Контактна інформація сайту",
                "verbose_name_plural": "Контактна інформація сайту",
            },
        ),
        migrations.CreateModel(
            name="Content",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "delivery_title",
                    models.CharField(
                        max_length=255, verbose_name="Заголовок в блоці ДОСТАВКА"
                    ),
                ),
                (
                    "delivery_description",
                    models.CharField(
                        max_length=255, verbose_name="Текст в блоці ДОСТАВКА"
                    ),
                ),
                (
                    "location",
                    models.TextField(verbose_name="Посилання на локацію в google maps"),
                ),
            ],
            options={
                "verbose_name": "Контент усіх сторінок",
                "verbose_name_plural": "Контент усіх сторінок",
            },
        ),
        migrations.CreateModel(
            name="Customer",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Ім'я")),
                ("email", models.EmailField(max_length=254, verbose_name="Email")),
                (
                    "phone",
                    phonenumber_field.modelfields.PhoneNumberField(
                        max_length=128, region="UA", verbose_name="Телефон"
                    ),
                ),
                (
                    "address",
                    models.CharField(blank=True, max_length=255, verbose_name="Адреса"),
                ),
            ],
            options={
                "verbose_name": "Клієнт",
                "verbose_name_plural": "Клієнти",
                "ordering": ["-id"],
            },
        ),
        migrations.CreateModel(
            name="DiscountGlobal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Назва")),
                ("percentage", models.IntegerField(verbose_name="Відсоток")),
                (
                    "final_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Кінцева дата"
                    ),
                ),
                (
                    "active",
                    models.BooleanField(default=False, verbose_name="Ввімкнено"),
                ),
            ],
            options={
                "verbose_name": "Глобальна знижка",
                "verbose_name_plural": "Глобальні знижки",
                "ordering": ["active", "percentage", "name"],
            },
        ),
        migrations.CreateModel(
            name="HomeContent",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("title", models.CharField(max_length=255, verbose_name="Title")),
                (
                    "banner_title",
                    models.CharField(max_length=255, verbose_name="Текст в банері"),
                ),
                (
                    "card_one_title",
                    models.CharField(max_length=255, verbose_name="Заголовок картки 1"),
                ),
                (
                    "card_one_description",
                    models.CharField(max_length=255, verbose_name="Опис картки 1"),
                ),
                (
                    "card_one_link",
                    models.CharField(max_length=50, verbose_name="Посилання картки 1"),
                ),
                (
                    "card_two_title",
                    models.CharField(max_length=255, verbose_name="Заголовок картки 2"),
                ),
                (
                    "card_two_description",
                    models.CharField(max_length=255, verbose_name="Опис картки 2"),
                ),
                (
                    "card_two_link",
                    models.CharField(max_length=50, verbose_name="Посилання картки 2"),
                ),
                (
                    "card_three_title",
                    models.CharField(max_length=255, verbose_name="Заголовок картки 3"),
                ),
                (
                    "card_three_description",
                    models.CharField(max_length=255, verbose_name="Опис картки 3"),
                ),
                (
                    "card_three_link",
                    models.CharField(max_length=50, verbose_name="Посилання картки 3"),
                ),
            ],
            options={
                "verbose_name": "Головна сторінка",
                "verbose_name_plural": "Головна сторінка",
            },
        ),
        migrations.CreateModel(
            name="Order",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "date",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Дата створення"
                    ),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.customer",
                        verbose_name="Клієнт",
                    ),
                ),
            ],
            options={
                "verbose_name": "Замовлення",
                "verbose_name_plural": "Замовлення",
                "ordering": ["-date"],
            },
        ),
        migrations.CreateModel(
            name="OrderStatus",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=80, verbose_name="Статус")),
                (
                    "color",
                    models.CharField(max_length=20, unique=True, verbose_name="Колір"),
                ),
            ],
            options={
                "verbose_name": "Статус замовлення",
                "verbose_name_plural": "Статус замовлення",
                "ordering": ["id"],
            },
        ),
        migrations.CreateModel(
            name="SubCategory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(blank=True, max_length=255, verbose_name="Назва"),
                ),
                (
                    "url",
                    models.SlugField(
                        blank=True, max_length=255, unique=True, verbose_name="URL"
                    ),
                ),
                (
                    "position",
                    models.PositiveIntegerField(default=1, verbose_name="Позиція"),
                ),
                (
                    "image",
                    models.ImageField(
                        blank=True,
                        default=None,
                        upload_to="images/sub_categories/",
                        verbose_name="Малюнок",
                    ),
                ),
                (
                    "blank",
                    models.BooleanField(
                        default=False, verbose_name="Розділювальна лінія"
                    ),
                ),
            ],
            options={
                "verbose_name": "Підкатегорія",
                "verbose_name_plural": "Підкатегорії",
                "ordering": ["position"],
            },
        ),
        migrations.CreateModel(
            name="Vehicle",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Назва")),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.customer",
                        verbose_name="Власник",
                    ),
                ),
            ],
            options={
                "verbose_name": "Транспортний засіб",
                "verbose_name_plural": "Транспортні засоби",
                "ordering": ["customer"],
            },
        ),
        migrations.CreateModel(
            name="Service",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=300, verbose_name="Назва")),
                ("price", models.PositiveIntegerField(verbose_name="Ціна")),
                ("position", models.PositiveIntegerField(default=0)),
                (
                    "sub_category",
                    models.ManyToManyField(
                        to="repairshop.subcategory", verbose_name="Підкатегорії"
                    ),
                ),
            ],
            options={
                "verbose_name": "Послуга",
                "verbose_name_plural": "Послуги",
                "ordering": ["position", "name"],
            },
        ),
        migrations.CreateModel(
            name="OrderStatusHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date", models.DateTimeField(auto_now_add=True, verbose_name="Дата")),
                (
                    "order",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.order",
                        verbose_name="Замовлення",
                    ),
                ),
                (
                    "order_status",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.RESTRICT,
                        to="repairshop.orderstatus",
                        verbose_name="Статус замовлення",
                    ),
                ),
            ],
            options={
                "verbose_name": "Історія замовлення",
                "verbose_name_plural": "Історія замовлення",
                "ordering": ["order", "-date"],
            },
        ),
        migrations.CreateModel(
            name="OrderItem",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "quantity",
                    models.PositiveIntegerField(default=1, verbose_name="Кількість"),
                ),
                ("price", models.PositiveIntegerField(default=1, verbose_name="Ціна")),
                (
                    "order",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.order",
                        verbose_name="Замовлення",
                    ),
                ),
                (
                    "service",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.service",
                        verbose_name="Послуга",
                    ),
                ),
            ],
            options={
                "verbose_name": "Позиція для замовлення",
                "verbose_name_plural": "Позиції для замовлення",
                "ordering": ["-order", "service"],
            },
        ),
        migrations.AddField(
            model_name="order",
            name="order_status",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.RESTRICT,
                to="repairshop.orderstatus",
                verbose_name="Статус замовлення",
            ),
        ),
        migrations.AddField(
            model_name="order",
            name="vehicle",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="repairshop.vehicle",
                verbose_name="Транспортний засіб",
            ),
        ),
        migrations.CreateModel(
            name="DiscountPersonal",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=255, verbose_name="Назва")),
                ("percentage", models.IntegerField(verbose_name="Відсоток")),
                ("active", models.BooleanField(default=True, verbose_name="Активний")),
                (
                    "customer",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="repairshop.customer",
                        verbose_name="Клієнт",
                    ),
                ),
                (
                    "service",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to="repairshop.service",
                        verbose_name="Послуга",
                    ),
                ),
            ],
            options={
                "verbose_name": "Персональна знижка",
                "verbose_name_plural": "Персональні знижки",
                "ordering": ["customer", "active", "service"],
            },
        ),
        migrations.AddConstraint(
            model_name="discountglobal",
            constraint=models.UniqueConstraint(
                condition=models.Q(("active", "True")),
                fields=("active",),
                name="Можлива лише одна активна знижка",
            ),
        ),
        migrations.AddField(
            model_name="additionexpense",
            name="order",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                to="repairshop.order",
                verbose_name="Замовлення",
            ),
        ),
    ]
